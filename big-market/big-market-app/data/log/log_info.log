25-08-04.00:20:30.910 [main            ] INFO  WelcomeLogoApplicationListener - 

 :: Dubbo Spring Boot (v3.0.9) : https://github.com/apache/dubbo-spring-boot-project
 :: Dubbo (v3.0.9) : https://github.com/apache/dubbo
 :: Discuss group : dev@dubbo.apache.org

25-08-04.00:20:30.967 [background-preinit] INFO  Version                - HV000001: Hibernate Validator 6.2.5.Final
25-08-04.00:20:30.967 [main            ] INFO  RaffleStrategyControllerTest - Starting RaffleStrategyControllerTest using Java 1.8.0_341 on DESKTOP-IQMPG8V with PID 8088 (started by lin in D:\DevTool\Java\java_pro\ddd\big-market\big-market-app)
25-08-04.00:20:30.967 [main            ] INFO  RaffleStrategyControllerTest - The following 1 profile is active: "dev"
25-08-04.00:20:32.027 [main            ] INFO  FrameworkModel         -  [DUBBO] Reset global default framework from null to Dubbo Framework[1], dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:32.027 [main            ] INFO  FrameworkModel         -  [DUBBO] Dubbo Framework[1] is created, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:32.084 [main            ] INFO  ApplicationModel       -  [DUBBO] Dubbo Application[1.0](unknown) is created, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:32.084 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.0.0] is created, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:32.110 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:32.110 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:32.147 [main            ] INFO  FrameworkModel         -  [DUBBO] Reset global default application from null to Dubbo Application[1.1](unknown), dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:32.147 [main            ] INFO  ApplicationModel       -  [DUBBO] Dubbo Application[1.1](unknown) is created, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:32.147 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.1.0] is created, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:32.152 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:32.152 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:32.162 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Use default application: Dubbo Application[1.1](unknown), dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:32.162 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.1.1] is created, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:32.168 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:32.168 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Use default module model of target application: Dubbo Module[1.1.1], dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:32.168 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Bind Dubbo Module[1.1.1] to spring container: org.springframework.beans.factory.support.DefaultListableBeanFactory@37d3d232, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:32.362 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-08-04.00:20:32.368 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-08-04.00:20:32.398 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
25-08-04.00:20:32.534 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator bean can't be found in BeanFactory with name [org.springframework.context.annotation.internalConfigurationBeanNameGenerator], dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:32.534 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator will be a instance of org.springframework.context.annotation.AnnotationBeanNameGenerator , it maybe a potential problem on bean name generation., dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:32.549 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Found 1 classes annotated by Dubbo @Service under package [com.lin]: [com.lin.trigger.http.RaffleActivityController], dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:32.554 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Register ServiceBean[ServiceBean:com.lin.trigger.api.IRaffleActivityService:1.0]: Root bean: class [org.apache.dubbo.config.spring.ServiceBean]; scope=; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:32.560 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator bean can't be found in BeanFactory with name [org.springframework.context.annotation.internalConfigurationBeanNameGenerator], dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:32.560 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator will be a instance of org.springframework.context.annotation.AnnotationBeanNameGenerator , it maybe a potential problem on bean name generation., dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:32.560 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Ignore package who has already bean scanned: com.lin.trigger.api, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:32.560 [main            ] INFO  ConfigurationClassPostProcessor - Cannot enhance @Configuration bean definition 'org.apache.dubbo.spring.boot.autoconfigure.DubboRelaxedBinding2AutoConfiguration' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.
25-08-04.00:20:32.560 [main            ] INFO  ConfigurationClassPostProcessor - Cannot enhance @Configuration bean definition 'org.apache.dubbo.spring.boot.autoconfigure.DubboAutoConfiguration' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.
25-08-04.00:20:32.622 [main            ] INFO  GenericScope           - BeanFactory id=edd4afbf-9af4-370a-9f48-bfeef8f5ad96
25-08-04.00:20:33.010 [main            ] INFO  ReferenceAnnotationBeanPostProcessor - class org.apache.dubbo.config.spring.beans.factory.annotation.ReferenceAnnotationBeanPostProcessor was destroying!
25-08-04.00:20:33.506 [main            ] INFO  DubboConfigBeanInitializer - loading dubbo config beans ...
25-08-04.00:20:33.506 [main            ] INFO  DubboConfigBeanInitializer - dubbo config beans are loaded.
25-08-04.00:20:33.541 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] No value is configured in the registry, the DynamicConfigurationFactory extension[name : null] does not support as the config center, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:33.541 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] The registry[<dubbo:registry id="nacos-registry" address="N/A" port="0" />] will be not used as the config center, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:33.569 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] has been initialized!, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:33.571 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] has been initialized!, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:33.572 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] No value is configured in the registry, the MetadataReportFactory extension[name : null] does not support as the metadata center, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:33.572 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] The registry[<dubbo:registry id="nacos-registry" address="N/A" port="0" />] will be not used as the metadata center, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:33.572 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) has been initialized!, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:33.940 [main            ] INFO  Version                - Redisson 3.23.4
25-08-04.00:20:34.337 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
25-08-04.00:20:34.354 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
25-08-04.00:20:35.227 [main            ] INFO  XxlJobAutoConfig       - >>>>>>>>>>> xxl-job config init.
25-08-04.00:20:36.998 [main            ] WARN  LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
25-08-04.00:20:37.005 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
25-08-04.00:20:37.199 [main            ] INFO  XxlJobExecutor         - >>>>>>>>>>> xxl-job register jobhandler success, name:SendMessageTaskJob_DB1, jobHandler:com.xxl.job.core.handler.impl.MethodJobHandler@2de07c57[class com.lin.trigger.job.SendMessageTaskJob#exec_db01]
25-08-04.00:20:37.199 [main            ] INFO  XxlJobExecutor         - >>>>>>>>>>> xxl-job register jobhandler success, name:UpdateActivitySkuStockJob, jobHandler:com.xxl.job.core.handler.impl.MethodJobHandler@76cbee13[class com.lin.trigger.job.UpdateActivitySkuStockJob#exec]
25-08-04.00:20:37.199 [main            ] INFO  XxlJobExecutor         - >>>>>>>>>>> xxl-job register jobhandler success, name:updateAwardStockJob, jobHandler:com.xxl.job.core.handler.impl.MethodJobHandler@59d09ff3[class com.lin.trigger.job.UpdateAwardStockJob#exec]
25-08-04.00:20:37.260 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
25-08-04.00:20:37.268 [Thread-10       ] ERROR EmbedServer            - >>>>>>>>>>> xxl-job remoting server error.
java.net.BindException: Address already in use: bind
	at sun.nio.ch.Net.bind0(Native Method)
	at sun.nio.ch.Net.bind(Net.java:438)
	at sun.nio.ch.Net.bind(Net.java:430)
	at sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:225)
	at io.netty.channel.socket.nio.NioServerSocketChannel.doBind(NioServerSocketChannel.java:141)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.bind(AbstractChannel.java:562)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.bind(DefaultChannelPipeline.java:1334)
	at io.netty.channel.AbstractChannelHandlerContext.invokeBind(AbstractChannelHandlerContext.java:600)
	at io.netty.channel.AbstractChannelHandlerContext.bind(AbstractChannelHandlerContext.java:579)
	at io.netty.channel.DefaultChannelPipeline.bind(DefaultChannelPipeline.java:973)
	at io.netty.channel.AbstractChannel.bind(AbstractChannel.java:260)
	at io.netty.bootstrap.AbstractBootstrap$2.run(AbstractBootstrap.java:356)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-08-04.00:20:37.314 [main            ] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#681311a7:0/SimpleConnection@33060020 [delegate=amqp://admin@127.0.0.1:5672/, localPort= 3144]
25-08-04.00:20:37.390 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] is starting., dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:37.390 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) is starting., dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:37.410 [main            ] WARN  ServiceConfig          -  [DUBBO] Use random available port(20881) for protocol dubbo, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:37.477 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service com.lin.trigger.api.IRaffleActivityService to local registry url : injvm://127.0.0.1/com.lin.trigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=192.168.222.162&bind.port=20881&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=com.lin.trigger.api.IRaffleActivityService&methods=queryUserActivityAccount,querySkuProductListByActivityId,creditPayExchangeSku,queryUserCreditAccount,armory,calendarSignRebate,draw,isCalendarSignRebate&pid=8088&qos.enable=false&release=3.0.9&revision=1.0&side=provider&timestamp=1754238037405&version=1.0, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:37.477 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service com.lin.trigger.api.IRaffleActivityService to url dubbo://192.168.222.162:20881/com.lin.trigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=192.168.222.162&bind.port=20881&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=com.lin.trigger.api.IRaffleActivityService&methods=queryUserActivityAccount,querySkuProductListByActivityId,creditPayExchangeSku,queryUserCreditAccount,armory,calendarSignRebate,draw,isCalendarSignRebate&pid=8088&qos.enable=false&release=3.0.9&revision=1.0&side=provider&timestamp=1754238037405&version=1.0, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:37.539 [main            ] INFO  AbstractServer         -  [DUBBO] Start NettyServer bind /0.0.0.0:20881, export /192.168.222.162:20881, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:37.555 [main            ] WARN  MetadataUtils          -  [DUBBO] Remote Metadata Report Server is not provided or unavailable, will stop registering service definition to remote center!, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:37.558 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] is starting., dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:37.558 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] has started., dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:37.560 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] has started., dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:37.562 [main            ] INFO  ConfigurableMetadataServiceExporter -  [DUBBO] Metadata Service Port hasn't been set will use default protocol defined in protocols., dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:37.562 [main            ] INFO  ConfigurableMetadataServiceExporter -  [DUBBO] Using dubbo protocol to export metadata service on port 20881, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:37.586 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service org.apache.dubbo.metadata.MetadataService to local registry url : injvm://127.0.0.1/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=192.168.222.162&bind.port=20881&connections=1&corethreads=2&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executes=100&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=getMetadataURL,isMetadataService,getAndListenInstanceMetadata,getExportedURLs,serviceName,version,getSubscribedURLs,exportInstanceMetadata,getExportedServiceURLs,getMetadataInfo,toSortedStrings,getMetadataInfos,getServiceDefinition,getInstanceMetadataChangedListenerMap&pid=8088&qos.enable=false&register=false&release=3.0.9&revision=3.0.9&side=provider&threadpool=cached&threads=100&timestamp=1754238037568&version=1.0.0, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:37.586 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service org.apache.dubbo.metadata.MetadataService to url dubbo://192.168.222.162:20881/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=192.168.222.162&bind.port=20881&connections=1&corethreads=2&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executes=100&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=getMetadataURL,isMetadataService,getAndListenInstanceMetadata,getExportedURLs,serviceName,version,getSubscribedURLs,exportInstanceMetadata,getExportedServiceURLs,getMetadataInfo,toSortedStrings,getMetadataInfos,getServiceDefinition,getInstanceMetadataChangedListenerMap&pid=8088&qos.enable=false&register=false&release=3.0.9&revision=3.0.9&side=provider&threadpool=cached&threads=100&timestamp=1754238037568&version=1.0.0, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:37.586 [main            ] INFO  ConfigurableMetadataServiceExporter -  [DUBBO] The MetadataService exports urls : [dubbo://192.168.222.162:20881/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=192.168.222.162&bind.port=20881&connections=1&corethreads=2&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executes=100&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=getMetadataURL,isMetadataService,getAndListenInstanceMetadata,getExportedURLs,serviceName,version,getSubscribedURLs,exportInstanceMetadata,getExportedServiceURLs,getMetadataInfo,toSortedStrings,getMetadataInfos,getServiceDefinition,getInstanceMetadataChangedListenerMap&pid=8088&qos.enable=false&register=false&release=3.0.9&revision=3.0.9&side=provider&threadpool=cached&threads=100&timestamp=1754238037568&version=1.0.0], dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:37.586 [main            ] INFO  ServiceInstanceMetadataUtils -  [DUBBO] Start registering instance address to registry., dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:37.589 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) is ready., dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:37.594 [main            ] INFO  RaffleStrategyControllerTest - Started RaffleStrategyControllerTest in 7.164 seconds (JVM running for 7.905)
25-08-04.00:20:37.792 [main            ] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xiaofuge activityId：100301
25-08-04.00:20:37.817 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
25-08-04.00:20:38.001 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
25-08-04.00:20:38.088 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
25-08-04.00:20:38.119 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
25-08-04.00:20:38.274 [main            ] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xiaofuge activityId：100301 response: {"code":"0000","data":[{"awardId":101,"awardTitle":"随机积分","isAwardUnlock":true,"sort":1,"waitUnLockCount":0},{"awardId":102,"awardTitle":"OpenAI会员卡","isAwardUnlock":true,"sort":2,"waitUnLockCount":0},{"awardId":103,"awardTitle":"支付优惠券","isAwardUnlock":true,"sort":3,"waitUnLockCount":0},{"awardId":104,"awardTitle":"小米台灯","isAwardUnlock":true,"sort":4,"waitUnLockCount":0},{"awardId":105,"awardRuleLockCount":3,"awardSubtitle":"抽奖3次后解锁","awardTitle":"小米su7周体验","isAwardUnlock":false,"sort":5,"waitUnLockCount":1},{"awardId":106,"awardRuleLockCount":2,"awardSubtitle":"抽奖2次后解锁","awardTitle":"轻奢办公椅","isAwardUnlock":true,"sort":6,"waitUnLockCount":0},{"awardId":107,"awardRuleLockCount":1,"awardSubtitle":"抽奖1次后解锁","awardTitle":"小霸王游戏机","isAwardUnlock":true,"sort":7,"waitUnLockCount":0},{"awardId":108,"awardTitle":"暴走玩偶","isAwardUnlock":true,"sort":8,"waitUnLockCount":0}],"info":"成功"}
25-08-04.00:20:38.275 [main            ] INFO  RaffleStrategyControllerTest - 请求参数：{"activityId":100301,"userId":"xiaofuge"}
25-08-04.00:20:38.275 [main            ] INFO  RaffleStrategyControllerTest - 测试结果：{"code":"0000","data":[{"awardId":101,"awardTitle":"随机积分","isAwardUnlock":true,"sort":1,"waitUnLockCount":0},{"awardId":102,"awardTitle":"OpenAI会员卡","isAwardUnlock":true,"sort":2,"waitUnLockCount":0},{"awardId":103,"awardTitle":"支付优惠券","isAwardUnlock":true,"sort":3,"waitUnLockCount":0},{"awardId":104,"awardTitle":"小米台灯","isAwardUnlock":true,"sort":4,"waitUnLockCount":0},{"awardId":105,"awardRuleLockCount":3,"awardSubtitle":"抽奖3次后解锁","awardTitle":"小米su7周体验","isAwardUnlock":false,"sort":5,"waitUnLockCount":1},{"awardId":106,"awardRuleLockCount":2,"awardSubtitle":"抽奖2次后解锁","awardTitle":"轻奢办公椅","isAwardUnlock":true,"sort":6,"waitUnLockCount":0},{"awardId":107,"awardRuleLockCount":1,"awardSubtitle":"抽奖1次后解锁","awardTitle":"小霸王游戏机","isAwardUnlock":true,"sort":7,"waitUnLockCount":0},{"awardId":108,"awardTitle":"暴走玩偶","isAwardUnlock":true,"sort":8,"waitUnLockCount":0}],"info":"成功"}
25-08-04.00:20:38.284 [DubboShutdownHook] INFO  DubboShutdownHook      -  [DUBBO] Run shutdown hook now., dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:38.284 [DubboShutdownHook] INFO  FrameworkModel         -  [DUBBO] Reset global default application from Dubbo Application[1.1](big-market) to null, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:38.284 [DubboShutdownHook] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) is stopping., dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:38.284 [DubboShutdownHook] INFO  RegistryManager        -  [DUBBO] Close all registries [], dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:38.285 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] is stopping., dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:38.285 [DubboShutdownHook] INFO  DubboProtocol          -  [DUBBO] Destroying protocol [DubboProtocol] ..., dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:38.285 [DubboShutdownHook] INFO  DubboProtocol          -  [DUBBO] Closing dubbo server: /192.168.222.162:20881, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:38.287 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] has stopped., dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:38.287 [DubboShutdownHook] INFO  AbstractServer         -  [DUBBO] Close NettyServer bind /0.0.0.0:20881, export /192.168.222.162:20881, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:38.287 [SpringApplicationShutdownHook] INFO  DubboSpringInitializer -  [DUBBO] Unbind Dubbo Module[1.1.1] from spring container: org.springframework.beans.factory.support.DefaultListableBeanFactory@37d3d232, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:20:38.307 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
25-08-04.00:20:38.308 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
25-08-04.00:20:38.310 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
25-08-04.00:20:38.310 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
25-08-04.00:20:38.366 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
25-08-04.00:20:38.378 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
25-08-04.00:20:38.378 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
25-08-04.00:20:38.392 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
25-08-04.00:20:38.395 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
25-08-04.00:20:38.396 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
25-08-04.00:20:38.396 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
25-08-04.00:20:38.396 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
25-08-04.00:20:38.398 [SpringApplicationShutdownHook] INFO  EmbedServer            - >>>>>>>>>>> xxl-job remoting server destroy success.
25-08-04.00:20:38.398 [xxl-job, executor JobLogFileCleanThread] INFO  JobLogFileCleanThread  - >>>>>>>>>>> xxl-job, executor JobLogFileCleanThread thread destroy.
25-08-04.00:20:38.398 [xxl-job, executor TriggerCallbackThread] INFO  TriggerCallbackThread  - >>>>>>>>>>> xxl-job, executor callback thread destroy.
25-08-04.00:20:38.399 [Thread-9        ] INFO  TriggerCallbackThread  - >>>>>>>>>>> xxl-job, executor retry callback thread destroy.
25-08-04.00:21:25.861 [main            ] INFO  WelcomeLogoApplicationListener - 

 :: Dubbo Spring Boot (v3.0.9) : https://github.com/apache/dubbo-spring-boot-project
 :: Dubbo (v3.0.9) : https://github.com/apache/dubbo
 :: Discuss group : dev@dubbo.apache.org

25-08-04.00:21:25.925 [background-preinit] INFO  Version                - HV000001: Hibernate Validator 6.2.5.Final
25-08-04.00:21:25.930 [main            ] INFO  RaffleStrategyControllerTest - Starting RaffleStrategyControllerTest using Java 1.8.0_341 on DESKTOP-IQMPG8V with PID 6392 (started by lin in D:\DevTool\Java\java_pro\ddd\big-market\big-market-app)
25-08-04.00:21:25.930 [main            ] INFO  RaffleStrategyControllerTest - The following 1 profile is active: "dev"
25-08-04.00:21:27.084 [main            ] INFO  FrameworkModel         -  [DUBBO] Reset global default framework from null to Dubbo Framework[1], dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:21:27.084 [main            ] INFO  FrameworkModel         -  [DUBBO] Dubbo Framework[1] is created, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:21:27.120 [main            ] INFO  ApplicationModel       -  [DUBBO] Dubbo Application[1.0](unknown) is created, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:21:27.122 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.0.0] is created, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:21:27.144 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:21:27.144 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:21:27.190 [main            ] INFO  FrameworkModel         -  [DUBBO] Reset global default application from null to Dubbo Application[1.1](unknown), dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:21:27.190 [main            ] INFO  ApplicationModel       -  [DUBBO] Dubbo Application[1.1](unknown) is created, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:21:27.190 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.1.0] is created, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:21:27.195 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:21:27.195 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:21:27.210 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Use default application: Dubbo Application[1.1](unknown), dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:21:27.210 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.1.1] is created, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:21:27.210 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:21:27.217 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Use default module model of target application: Dubbo Module[1.1.1], dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:21:27.217 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Bind Dubbo Module[1.1.1] to spring container: org.springframework.beans.factory.support.DefaultListableBeanFactory@5853495b, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:21:27.417 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-08-04.00:21:27.422 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-08-04.00:21:27.457 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
25-08-04.00:21:27.602 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator bean can't be found in BeanFactory with name [org.springframework.context.annotation.internalConfigurationBeanNameGenerator], dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:21:27.603 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator will be a instance of org.springframework.context.annotation.AnnotationBeanNameGenerator , it maybe a potential problem on bean name generation., dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:21:27.614 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Found 1 classes annotated by Dubbo @Service under package [com.lin]: [com.lin.trigger.http.RaffleActivityController], dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:21:27.624 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Register ServiceBean[ServiceBean:com.lin.trigger.api.IRaffleActivityService:1.0]: Root bean: class [org.apache.dubbo.config.spring.ServiceBean]; scope=; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:21:27.624 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator bean can't be found in BeanFactory with name [org.springframework.context.annotation.internalConfigurationBeanNameGenerator], dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:21:27.624 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator will be a instance of org.springframework.context.annotation.AnnotationBeanNameGenerator , it maybe a potential problem on bean name generation., dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:21:27.624 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Ignore package who has already bean scanned: com.lin.trigger.api, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:21:27.630 [main            ] INFO  ConfigurationClassPostProcessor - Cannot enhance @Configuration bean definition 'org.apache.dubbo.spring.boot.autoconfigure.DubboRelaxedBinding2AutoConfiguration' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.
25-08-04.00:21:27.630 [main            ] INFO  ConfigurationClassPostProcessor - Cannot enhance @Configuration bean definition 'org.apache.dubbo.spring.boot.autoconfigure.DubboAutoConfiguration' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.
25-08-04.00:21:27.712 [main            ] INFO  GenericScope           - BeanFactory id=edd4afbf-9af4-370a-9f48-bfeef8f5ad96
25-08-04.00:21:28.185 [main            ] INFO  ReferenceAnnotationBeanPostProcessor - class org.apache.dubbo.config.spring.beans.factory.annotation.ReferenceAnnotationBeanPostProcessor was destroying!
25-08-04.00:21:28.801 [main            ] INFO  DubboConfigBeanInitializer - loading dubbo config beans ...
25-08-04.00:21:28.806 [main            ] INFO  DubboConfigBeanInitializer - dubbo config beans are loaded.
25-08-04.00:21:28.862 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] No value is configured in the registry, the DynamicConfigurationFactory extension[name : null] does not support as the config center, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:21:28.862 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] The registry[<dubbo:registry id="nacos-registry" address="N/A" port="0" />] will be not used as the config center, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:21:28.903 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] has been initialized!, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:21:28.908 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] has been initialized!, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:21:28.908 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] No value is configured in the registry, the MetadataReportFactory extension[name : null] does not support as the metadata center, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:21:28.908 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] The registry[<dubbo:registry id="nacos-registry" address="N/A" port="0" />] will be not used as the metadata center, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:21:28.908 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) has been initialized!, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:21:29.333 [main            ] INFO  Version                - Redisson 3.23.4
25-08-04.00:21:29.776 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
25-08-04.00:21:29.788 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
25-08-04.00:21:30.721 [main            ] INFO  XxlJobAutoConfig       - >>>>>>>>>>> xxl-job config init.
25-08-04.00:21:32.586 [main            ] WARN  LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
25-08-04.00:21:32.589 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
25-08-04.00:21:32.767 [main            ] INFO  XxlJobExecutor         - >>>>>>>>>>> xxl-job register jobhandler success, name:SendMessageTaskJob_DB1, jobHandler:com.xxl.job.core.handler.impl.MethodJobHandler@5f804b36[class com.lin.trigger.job.SendMessageTaskJob#exec_db01]
25-08-04.00:21:32.767 [main            ] INFO  XxlJobExecutor         - >>>>>>>>>>> xxl-job register jobhandler success, name:UpdateActivitySkuStockJob, jobHandler:com.xxl.job.core.handler.impl.MethodJobHandler@201f0e84[class com.lin.trigger.job.UpdateActivitySkuStockJob#exec]
25-08-04.00:21:32.767 [main            ] INFO  XxlJobExecutor         - >>>>>>>>>>> xxl-job register jobhandler success, name:updateAwardStockJob, jobHandler:com.xxl.job.core.handler.impl.MethodJobHandler@5629e904[class com.lin.trigger.job.UpdateAwardStockJob#exec]
25-08-04.00:21:32.842 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
25-08-04.00:21:32.842 [Thread-10       ] INFO  EmbedServer            - >>>>>>>>>>> xxl-job remoting server start success, nettype = class com.xxl.job.core.server.EmbedServer, port = 9999
25-08-04.00:21:32.927 [main            ] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#20d92f1e:0/SimpleConnection@1b7c1c6f [delegate=amqp://admin@127.0.0.1:5672/, localPort= 3518]
25-08-04.00:21:33.074 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] is starting., dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:21:33.076 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) is starting., dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:21:33.113 [main            ] WARN  ServiceConfig          -  [DUBBO] Use random available port(20880) for protocol dubbo, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:21:33.193 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service com.lin.trigger.api.IRaffleActivityService to local registry url : injvm://127.0.0.1/com.lin.trigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=192.168.222.162&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=com.lin.trigger.api.IRaffleActivityService&methods=queryUserActivityAccount,querySkuProductListByActivityId,creditPayExchangeSku,queryUserCreditAccount,armory,calendarSignRebate,draw,isCalendarSignRebate&pid=6392&qos.enable=false&release=3.0.9&revision=1.0&side=provider&timestamp=1754238093102&version=1.0, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:21:33.193 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service com.lin.trigger.api.IRaffleActivityService to url dubbo://192.168.222.162:20880/com.lin.trigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=192.168.222.162&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=com.lin.trigger.api.IRaffleActivityService&methods=queryUserActivityAccount,querySkuProductListByActivityId,creditPayExchangeSku,queryUserCreditAccount,armory,calendarSignRebate,draw,isCalendarSignRebate&pid=6392&qos.enable=false&release=3.0.9&revision=1.0&side=provider&timestamp=1754238093102&version=1.0, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:21:33.250 [main            ] INFO  AbstractServer         -  [DUBBO] Start NettyServer bind /0.0.0.0:20880, export /192.168.222.162:20880, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:21:33.265 [main            ] WARN  MetadataUtils          -  [DUBBO] Remote Metadata Report Server is not provided or unavailable, will stop registering service definition to remote center!, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:21:33.270 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] is starting., dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:21:33.270 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] has started., dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:21:33.270 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] has started., dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:21:33.270 [main            ] INFO  ConfigurableMetadataServiceExporter -  [DUBBO] Metadata Service Port hasn't been set will use default protocol defined in protocols., dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:21:33.270 [main            ] INFO  ConfigurableMetadataServiceExporter -  [DUBBO] Using dubbo protocol to export metadata service on port 20880, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:21:33.296 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service org.apache.dubbo.metadata.MetadataService to local registry url : injvm://127.0.0.1/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=192.168.222.162&bind.port=20880&connections=1&corethreads=2&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executes=100&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=getMetadataURL,isMetadataService,getExportedURLs,getAndListenInstanceMetadata,serviceName,getSubscribedURLs,version,getExportedServiceURLs,exportInstanceMetadata,getMetadataInfo,toSortedStrings,getMetadataInfos,getServiceDefinition,getInstanceMetadataChangedListenerMap&pid=6392&qos.enable=false&register=false&release=3.0.9&revision=3.0.9&side=provider&threadpool=cached&threads=100&timestamp=1754238093280&version=1.0.0, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:21:33.296 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service org.apache.dubbo.metadata.MetadataService to url dubbo://192.168.222.162:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=192.168.222.162&bind.port=20880&connections=1&corethreads=2&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executes=100&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=getMetadataURL,isMetadataService,getExportedURLs,getAndListenInstanceMetadata,serviceName,getSubscribedURLs,version,getExportedServiceURLs,exportInstanceMetadata,getMetadataInfo,toSortedStrings,getMetadataInfos,getServiceDefinition,getInstanceMetadataChangedListenerMap&pid=6392&qos.enable=false&register=false&release=3.0.9&revision=3.0.9&side=provider&threadpool=cached&threads=100&timestamp=1754238093280&version=1.0.0, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:21:33.302 [main            ] INFO  ConfigurableMetadataServiceExporter -  [DUBBO] The MetadataService exports urls : [dubbo://192.168.222.162:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=192.168.222.162&bind.port=20880&connections=1&corethreads=2&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executes=100&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=getMetadataURL,isMetadataService,getExportedURLs,getAndListenInstanceMetadata,serviceName,getSubscribedURLs,version,getExportedServiceURLs,exportInstanceMetadata,getMetadataInfo,toSortedStrings,getMetadataInfos,getServiceDefinition,getInstanceMetadataChangedListenerMap&pid=6392&qos.enable=false&register=false&release=3.0.9&revision=3.0.9&side=provider&threadpool=cached&threads=100&timestamp=1754238093280&version=1.0.0], dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:21:33.304 [main            ] INFO  ServiceInstanceMetadataUtils -  [DUBBO] Start registering instance address to registry., dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:21:33.312 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) is ready., dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:21:33.317 [main            ] INFO  RaffleStrategyControllerTest - Started RaffleStrategyControllerTest in 8.037 seconds (JVM running for 8.823)
25-08-04.00:21:33.641 [main            ] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xiaofuge activityId：100301
25-08-04.00:23:20.772 [DubboShutdownHook] INFO  DubboShutdownHook      -  [DUBBO] Run shutdown hook now., dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:23:20.772 [DubboShutdownHook] INFO  FrameworkModel         -  [DUBBO] Reset global default application from Dubbo Application[1.1](big-market) to null, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:23:20.772 [DubboShutdownHook] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) is stopping., dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:23:20.772 [DubboShutdownHook] INFO  RegistryManager        -  [DUBBO] Close all registries [], dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:23:20.772 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] is stopping., dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:23:20.777 [DubboShutdownHook] INFO  DubboProtocol          -  [DUBBO] Destroying protocol [DubboProtocol] ..., dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:23:20.777 [DubboShutdownHook] INFO  DubboProtocol          -  [DUBBO] Closing dubbo server: /192.168.222.162:20880, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:23:20.777 [DubboShutdownHook] INFO  AbstractServer         -  [DUBBO] Close NettyServer bind /0.0.0.0:20880, export /192.168.222.162:20880, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:23:20.777 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] has stopped., dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:23:20.777 [SpringApplicationShutdownHook] INFO  DubboSpringInitializer -  [DUBBO] Unbind Dubbo Module[1.1.1] from spring container: org.springframework.beans.factory.support.DefaultListableBeanFactory@5853495b, dubbo version: 3.0.9, current host: 192.168.222.162
25-08-04.00:23:20.813 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
25-08-04.00:23:20.816 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
25-08-04.00:23:20.818 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
25-08-04.00:23:20.820 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
25-08-04.00:23:20.821 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
25-08-04.00:23:20.870 [xxl-job, EmbedServer bizThreadPool-298690392] INFO  XxlJobExecutor         - >>>>>>>>>>> xxl-job regist JobThread success, jobId:1, handler:com.xxl.job.core.handler.impl.MethodJobHandler@5629e904[class com.lin.trigger.job.UpdateAwardStockJob#exec]
25-08-04.00:23:20.871 [xxl-job, EmbedServer bizThreadPool-1036087629] INFO  XxlJobExecutor         - >>>>>>>>>>> xxl-job regist JobThread success, jobId:2, handler:com.xxl.job.core.handler.impl.MethodJobHandler@5f804b36[class com.lin.trigger.job.SendMessageTaskJob#exec_db01]
25-08-04.00:23:20.871 [xxl-job, EmbedServer bizThreadPool-789545409] INFO  XxlJobExecutor         - >>>>>>>>>>> xxl-job regist JobThread success, jobId:4, handler:com.xxl.job.core.handler.impl.MethodJobHandler@201f0e84[class com.lin.trigger.job.UpdateActivitySkuStockJob#exec]
25-08-04.00:23:20.912 [xxl-job, JobThread-2-1754238200870] INFO  HikariDataSource       - Retail_HikariCP - Starting...
25-08-04.00:23:21.141 [xxl-job, JobThread-2-1754238200870] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
25-08-04.00:23:21.143 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
25-08-04.00:23:21.607 [main            ] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xiaofuge activityId：100301 response: {"code":"0000","data":[{"awardId":101,"awardTitle":"随机积分","isAwardUnlock":true,"sort":1,"waitUnLockCount":0},{"awardId":102,"awardTitle":"OpenAI会员卡","isAwardUnlock":true,"sort":2,"waitUnLockCount":0},{"awardId":103,"awardTitle":"支付优惠券","isAwardUnlock":true,"sort":3,"waitUnLockCount":0},{"awardId":104,"awardTitle":"小米台灯","isAwardUnlock":true,"sort":4,"waitUnLockCount":0},{"awardId":105,"awardRuleLockCount":3,"awardSubtitle":"抽奖3次后解锁","awardTitle":"小米su7周体验","isAwardUnlock":false,"sort":5,"waitUnLockCount":1},{"awardId":106,"awardRuleLockCount":2,"awardSubtitle":"抽奖2次后解锁","awardTitle":"轻奢办公椅","isAwardUnlock":true,"sort":6,"waitUnLockCount":0},{"awardId":107,"awardRuleLockCount":1,"awardSubtitle":"抽奖1次后解锁","awardTitle":"小霸王游戏机","isAwardUnlock":true,"sort":7,"waitUnLockCount":0},{"awardId":108,"awardTitle":"暴走玩偶","isAwardUnlock":true,"sort":8,"waitUnLockCount":0}],"info":"成功"}
25-08-04.00:23:21.611 [main            ] INFO  RaffleStrategyControllerTest - 请求参数：{"activityId":100301,"userId":"xiaofuge"}
25-08-04.00:23:21.612 [main            ] INFO  RaffleStrategyControllerTest - 测试结果：{"code":"0000","data":[{"awardId":101,"awardTitle":"随机积分","isAwardUnlock":true,"sort":1,"waitUnLockCount":0},{"awardId":102,"awardTitle":"OpenAI会员卡","isAwardUnlock":true,"sort":2,"waitUnLockCount":0},{"awardId":103,"awardTitle":"支付优惠券","isAwardUnlock":true,"sort":3,"waitUnLockCount":0},{"awardId":104,"awardTitle":"小米台灯","isAwardUnlock":true,"sort":4,"waitUnLockCount":0},{"awardId":105,"awardRuleLockCount":3,"awardSubtitle":"抽奖3次后解锁","awardTitle":"小米su7周体验","isAwardUnlock":false,"sort":5,"waitUnLockCount":1},{"awardId":106,"awardRuleLockCount":2,"awardSubtitle":"抽奖2次后解锁","awardTitle":"轻奢办公椅","isAwardUnlock":true,"sort":6,"waitUnLockCount":0},{"awardId":107,"awardRuleLockCount":1,"awardSubtitle":"抽奖1次后解锁","awardTitle":"小霸王游戏机","isAwardUnlock":true,"sort":7,"waitUnLockCount":0},{"awardId":108,"awardTitle":"暴走玩偶","isAwardUnlock":true,"sort":8,"waitUnLockCount":0}],"info":"成功"}
25-08-04.00:23:21.741 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
25-08-04.00:23:21.742 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
25-08-04.00:23:21.741 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
25-08-04.00:23:21.741 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
25-08-04.00:23:21.747 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
25-08-04.00:23:21.747 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
25-08-04.00:23:21.747 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
25-08-04.00:23:21.747 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
25-08-04.00:23:21.748 [Thread-10       ] INFO  EmbedServer            - >>>>>>>>>>> xxl-job remoting server stop.
25-08-04.00:23:21.752 [xxl-job, executor ExecutorRegistryThread] INFO  ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry-remove success, registryParam:RegistryParam{registryGroup='EXECUTOR', registryKey='big-market-job', registryValue='http://192.168.222.162:9999/'}, registryResult:ReturnT [code=200, msg=null, content=null]
25-08-04.00:23:21.753 [xxl-job, executor ExecutorRegistryThread] INFO  ExecutorRegistryThread - >>>>>>>>>>> xxl-job, executor registry thread destroy.
25-08-04.00:23:21.753 [SpringApplicationShutdownHook] INFO  EmbedServer            - >>>>>>>>>>> xxl-job remoting server destroy success.
25-08-04.00:23:21.756 [xxl-job, JobThread-1-1754238200870] INFO  JobThread              - >>>>>>>>>>> xxl-job JobThread stoped, hashCode:Thread[xxl-job, JobThread-1-1754238200870,10,main]
25-08-04.00:23:21.757 [xxl-job, JobThread-2-1754238200870] INFO  JobThread              - >>>>>>>>>>> xxl-job JobThread stoped, hashCode:Thread[xxl-job, JobThread-2-1754238200870,10,main]
25-08-04.00:23:21.758 [xxl-job, JobThread-4-1754238200871] INFO  JobThread              - >>>>>>>>>>> xxl-job JobThread stoped, hashCode:Thread[xxl-job, JobThread-4-1754238200871,10,main]
25-08-04.00:23:21.759 [xxl-job, executor JobLogFileCleanThread] INFO  JobLogFileCleanThread  - >>>>>>>>>>> xxl-job, executor JobLogFileCleanThread thread destroy.
25-08-04.00:23:21.760 [xxl-job, executor TriggerCallbackThread] INFO  TriggerCallbackThread  - >>>>>>>>>>> xxl-job, executor callback thread destroy.
25-08-04.00:23:21.760 [Thread-9        ] INFO  TriggerCallbackThread  - >>>>>>>>>>> xxl-job, executor retry callback thread destroy.
